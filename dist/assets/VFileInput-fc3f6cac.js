import{m as ue,V as G,a as re}from"./filter-2328cb3f.js";import{m as j,u as H,V as S,a as ie,f as de,b as ce,c as me,d as fe}from"./VInput-29ae72a2.js";import{p as L,S as ve,g as q,l as K,U as pe,e as d,u as Q,V as W,c as o,v as h,K as Ve,_ as Ce,D as ye,H as he,G as v,N as T,Q as be,L as ge,W as ke,X as Ae,Y as O,r as z,w as Fe,F as M,A as Re,Z as Pe}from"./index-82e8bfa7.js";import{c as Se}from"./VAutocomplete-f53fdc75.js";import{V as Ie,a as Be,b as Ee}from"./VCard-1d6d09e8.js";import{V as $e}from"./VForm-e0f7b4b8.js";import{V as xe}from"./VTextField-3bbe9387.js";import{V as we}from"./VTextarea-d5e72ef1.js";import{V as Y}from"./VBtn-94554fdc.js";const Te=L({...j(),...ve(ue(),["inline"])},"VCheckbox"),We=q()({name:"VCheckbox",inheritAttrs:!1,props:Te(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,a){let{attrs:b,slots:c}=a;const n=K(e,"modelValue"),{isFocused:r,focus:l,blur:m}=H(e),I=pe(),B=d(()=>e.id||`checkbox-${I}`);return Q(()=>{const[g,k]=W(b),[A,F]=S.filterProps(e),[E,$]=G.filterProps(e);return o(S,h({class:["v-checkbox",e.class]},g,A,{modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,id:B.value,focused:r.value,style:e.style}),{...c,default:f=>{let{id:u,messagesId:x,isDisabled:R,isReadonly:p}=f;return o(G,h(E,{id:u.value,"aria-describedby":x.value,disabled:R.value,readonly:p.value},k,{modelValue:n.value,"onUpdate:modelValue":w=>n.value=w,onFocus:l,onBlur:m}),c)}})}),{}}}),{mapActions:ze}=Ve("CREATE_CATEGORY"),Me={name:"CategoryForm",data:()=>({valid:!1,name:"",description:""}),methods:{...ze(["createCategory"]),getRules(e){return[a=>!!a||`${e} is required`]},save(){if(console.log("valid: ",this.valid),!this.valid)return;const e={name:this.name,description:this.description};this.createCategory(e).then(a=>{a&&this.$emit("category-saved",a)})}},beforeCreate(){this.$store.hasModule("CREATE_CATEGORY")||this.$store.registerModule("CREATE_CATEGORY",Se)},beforeUnmount(){this.$store.unregisterModule("CREATE_CATEGORY")}},Ne={class:"text-right"};function Ue(e,a,b,c,n,r){return ye(),he(Ie,null,{default:v(()=>[o(Be,null,{default:v(()=>[T("Add Category")]),_:1}),o(Ee,null,{default:v(()=>[o($e,{modelValue:e.valid,"onUpdate:modelValue":a[3]||(a[3]=l=>e.valid=l),onSubmit:be(r.save,["prevent"])},{default:v(()=>[o(xe,{modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.name=l),label:"Name",placeholder:"Enter category name",rules:r.getRules("Name"),variant:"outlined"},null,8,["modelValue","rules"]),o(we,{modelValue:e.description,"onUpdate:modelValue":a[1]||(a[1]=l=>e.description=l),label:"Description",placeholder:"Enter description",rules:r.getRules("Description"),variant:"outlined"},null,8,["modelValue","rules"]),ge("div",Ne,[o(Y,{color:"blue",variant:"tonal",class:"ma-2",type:"submit"},{default:v(()=>[T(" Save ")]),_:1}),o(Y,{type:"button",color:"red",variant:"tonal",class:"ma-2",onClick:a[2]||(a[2]=l=>e.$emit("category-saved"))},{default:v(()=>[T("Cancel")]),_:1})])]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})}const Xe=Ce(Me,[["render",Ue]]);const _e=L({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...j({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>ke(e).every(a=>a!=null&&typeof a=="object")},...ie({clearable:!0})},"VFileInput"),Ze=q()({name:"VFileInput",inheritAttrs:!1,props:_e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:b,emit:c,slots:n}=a;const{t:r}=Ae(),l=K(e,"modelValue"),{isFocused:m,focus:I,blur:B}=H(e),g=d(()=>typeof e.showSize!="boolean"?e.showSize:void 0),k=d(()=>(l.value??[]).reduce((t,s)=>{let{size:V=0}=s;return t+V},0)),A=d(()=>O(k.value,g.value)),F=d(()=>(l.value??[]).map(t=>{const{name:s="",size:V=0}=t;return e.showSize?`${s} (${O(V,g.value)})`:s})),E=d(()=>{var s;const t=((s=l.value)==null?void 0:s.length)??0;return e.showSize?r(e.counterSizeString,t,A.value):r(e.counterString,t)}),$=z(),f=z(),u=z(),x=d(()=>m.value||e.active),R=d(()=>["plain","underlined"].includes(e.variant));function p(){var t;u.value!==document.activeElement&&((t=u.value)==null||t.focus()),m.value||I()}function w(t){N(t)}function X(t){c("mousedown:control",t)}function N(t){var s;(s=u.value)==null||s.click(),c("click:control",t)}function Z(t){t.stopPropagation(),p(),Re(()=>{l.value=[],Pe(e["onClick:clear"],t)})}return Fe(l,t=>{(!Array.isArray(t)||!t.length)&&u.value&&(u.value.value="")}),Q(()=>{const t=!!(n.counter||e.counter),s=!!(t||n.details),[V,J]=W(b),[{modelValue:De,...ee}]=S.filterProps(e),[te]=de(e);return o(S,h({ref:$,modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,class:["v-file-input",{"v-text-field--plain-underlined":R.value},e.class],style:e.style,"onClick:prepend":w},V,ee,{centerAffix:!R.value,focused:m.value}),{...n,default:C=>{let{id:P,isDisabled:y,isDirty:U,isReadonly:_,isValid:ae}=C;return o(ce,h({ref:f,"prepend-icon":e.prependIcon,onMousedown:X,onClick:N,"onClick:clear":Z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},te,{id:P.value,active:x.value||U.value,dirty:U.value,disabled:y.value,focused:m.value,error:ae.value===!1}),{...n,default:le=>{var D;let{props:{class:oe,...ne}}=le;return o(M,null,[o("input",h({ref:u,type:"file",readonly:_.value,disabled:y.value,multiple:e.multiple,name:e.name,onClick:i=>{i.stopPropagation(),_.value&&i.preventDefault(),p()},onChange:i=>{if(!i.target)return;const se=i.target;l.value=[...se.files??[]]},onFocus:p,onBlur:B},ne,J),null),o("div",{class:oe},[!!((D=l.value)!=null&&D.length)&&(n.selection?n.selection({fileNames:F.value,totalBytes:k.value,totalBytesReadable:A.value}):e.chips?F.value.map(i=>o(re,{key:i,size:"small",color:e.color},{default:()=>[i]})):F.value.join(", "))])])}})},details:s?C=>{var P,y;return o(M,null,[(P=n.details)==null?void 0:P.call(n,C),t&&o(M,null,[o("span",null,null),o(me,{active:!!((y=l.value)!=null&&y.length),value:E.value},n.counter)])])}:void 0})}),fe({},$,f,u)}});export{Xe as C,We as V,Ze as a};
