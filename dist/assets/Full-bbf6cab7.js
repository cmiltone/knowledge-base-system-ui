import{p as L,m as X,g as Y,u as $,c as i,a as ie,t as R,b as ue,d as re,s as V,e as m,f as se,h as P,r as U,i as _e,w as p,o as q,j as Z,k as ce,l as ve,n as D,q as de,v as z,x as Ce,C as Me,y as pe,z as He,T as Ie,F as me,A as Ne,_ as Pe,B as Re,D as ae,E as Le,G as O,H as De,I as Ye}from"./index-c247efdd.js";import{m as j}from"./tag-d920acd8.js";import{V as $e}from"./index-9672de2e.js";import{m as ge,a as he,b as fe,u as F,c as ye,d as be,e as we,V as W,f as Ae,t as Oe}from"./index-5d552a30.js";import{V as We}from"./VAvatar-397c5db9.js";import{u as Se}from"./ssrBoot-d6f660a8.js";import{u as ze,V as N,a as Fe}from"./scopeId-551e5591.js";import{V as Xe}from"./VMain-cc83831a.js";import{V as Ue}from"./VBtn-886db63b.js";const qe={name:"Full",computed:{user(){return this.$store.getters.user}},created(){this.$store.dispatch("setUser")},methods:{logout(){this.$store.dispatch("logout")}}};const Ze=L({text:String,...X(),...j()},"VToolbarTitle"),je=Y()({name:"VToolbarTitle",props:Ze(),setup(e,c){let{slots:l}=c;return $(()=>{const o=!!(l.default||l.text||e.text);return i(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[o&&i("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():e.text,(a=l.default)==null?void 0:a.call(l)])]}})}),{}}}),Ge=[null,"prominent","default","comfortable","compact"],Te=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ge.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ge(),...X(),...he(),...fe(),...j({tag:"header"}),...ie()},"VToolbar"),le=Y()({name:"VToolbar",props:Te(),setup(e,c){var u;let{slots:l}=c;const{backgroundColorClasses:o,backgroundColorStyles:a}=F(R(e,"color")),{borderClasses:t}=ye(e),{elevationClasses:d}=be(e),{roundedClasses:f}=we(e),{themeClasses:S}=ue(e),{rtlClasses:w}=re(),n=V(!!(e.extended||(u=l.extension)!=null&&u.call(l))),v=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),s=m(()=>n.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return se({VBtn:{variant:"text"}}),$(()=>{var y;const g=!!(e.title||l.title),k=!!(l.image||e.image),C=(y=l.extension)==null?void 0:y.call(l);return n.value=!!(e.extended||C),i(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},o.value,t.value,d.value,f.value,S.value,w.value,e.class],style:[a.value,e.style]},{default:()=>[k&&i("div",{key:"image",class:"v-toolbar__image"},[l.image?i(W,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},l.image):i(We,{key:"image-img",cover:!0,src:e.image},null)]),i(W,{defaults:{VTabs:{height:P(v.value)}}},{default:()=>{var T,B,E;return[i("div",{class:"v-toolbar__content",style:{height:P(v.value)}},[l.prepend&&i("div",{class:"v-toolbar__prepend"},[(T=l.prepend)==null?void 0:T.call(l)]),g&&i(je,{key:"title",text:e.title},{text:l.title}),(B=l.default)==null?void 0:B.call(l),l.append&&i("div",{class:"v-toolbar__append"},[(E=l.append)==null?void 0:E.call(l)])])]}}),i(W,{defaults:{VTabs:{height:P(s.value)}}},{default:()=>[i($e,null,{default:()=>[n.value&&i("div",{class:"v-toolbar__extension",style:{height:P(s.value)}},[C])]})]})]})}),{contentHeight:v,extensionHeight:s}}}),Ke=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Je(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=c;let o=0;const a=U(null),t=V(0),d=V(0),f=V(0),S=V(!1),w=V(!1),n=m(()=>Number(e.scrollThreshold)),v=m(()=>_e((n.value-t.value)/n.value||0)),s=()=>{const u=a.value;!u||l&&!l.value||(o=t.value,t.value="window"in u?u.pageYOffset:u.scrollTop,w.value=t.value<o,f.value=Math.abs(t.value-n.value))};return p(w,()=>{d.value=d.value||t.value}),p(S,()=>{d.value=0}),q(()=>{p(()=>e.scrollTarget,u=>{var k;const g=u?document.querySelector(u):window;g&&g!==a.value&&((k=a.value)==null||k.removeEventListener("scroll",s),a.value=g,a.value.addEventListener("scroll",s,{passive:!0}))},{immediate:!0})}),Z(()=>{var u;(u=a.value)==null||u.removeEventListener("scroll",s)}),l&&p(l,s,{immediate:!0}),{scrollThreshold:n,currentScroll:t,currentThreshold:f,isScrollActive:S,scrollRatio:v,isScrollingUp:w,savedScroll:d}}const Qe=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Te(),...ce(),...Ke(),height:{type:[Number,String],default:64}},"VAppBar"),et=Y()({name:"VAppBar",props:Qe(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:l}=c;const o=U(),a=ve(e,"modelValue"),t=m(()=>{var T;const y=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:y.has("hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),d=m(()=>{const y=t.value;return y.hide||y.inverted||y.collapse||y.elevate||y.fadeImage||!a.value}),{currentScroll:f,scrollThreshold:S,isScrollingUp:w,scrollRatio:n}=Je(e,{canScroll:d}),v=m(()=>e.collapse||t.value.collapse&&(t.value.inverted?n.value>0:n.value===0)),s=m(()=>e.flat||t.value.elevate&&(t.value.inverted?f.value>0:f.value===0)),u=m(()=>t.value.fadeImage?t.value.inverted?1-n.value:n.value:void 0),g=m(()=>{var B,E;if(t.value.hide&&t.value.inverted)return 0;const y=((B=o.value)==null?void 0:B.contentHeight)??0,T=((E=o.value)==null?void 0:E.extensionHeight)??0;return y+T});D(m(()=>!!e.scrollBehavior),()=>{Ce(()=>{t.value.hide?t.value.inverted?a.value=f.value>S.value:a.value=w.value||f.value<S.value:a.value=!0})});const{ssrBootStyles:k}=Se(),{layoutItemStyles:C}=de({id:e.name,order:m(()=>parseInt(e.order,10)),position:R(e,"location"),layoutSize:g,elementSize:V(void 0),active:a,absolute:R(e,"absolute")});return $(()=>{const[y]=le.filterProps(e);return i(le,z({ref:o,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":u.value,height:void 0,...k.value},e.style]},y,{collapse:v.value,flat:s.value}),l)}),{}}});function tt(e){let{rootEl:c,isSticky:l,layoutItemStyles:o}=e;const a=V(!1),t=V(0),d=m(()=>{const w=typeof a.value=="boolean"?"top":a.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[w]:P(t.value)}:{top:o.value.top}]});q(()=>{p(l,w=>{w?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),Z(()=>{window.removeEventListener("scroll",S)});let f=0;function S(){const w=f>window.scrollY?"up":"down",n=c.value.getBoundingClientRect(),v=parseFloat(o.value.top??0),s=window.scrollY-Math.max(0,t.value-v),u=n.height+Math.max(t.value,v)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(c.value).getPropertyValue("--v-body-scroll-y"))||0;n.height<window.innerHeight-v?(a.value="top",t.value=v):w==="up"&&a.value==="bottom"||w==="down"&&a.value==="top"?(t.value=window.scrollY+n.top-g,a.value=!0):w==="down"&&u<=0?(t.value=0,a.value="bottom"):w==="up"&&s<=0&&(g?a.value!=="top"&&(t.value=-s+g+v,a.value="top"):(t.value=n.top+s,a.value="top")),f=window.scrollY}return{isStuck:a,stickyStyles:d}}const at=100,lt=20;function ne(e){const c=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*c}function oe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let c=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const o=ne(c),a=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);c+=(a-o)*Math.abs(a),l===e.length-1&&(c*=.5)}return ne(c)*1e3}function nt(){const e={};function c(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Me(lt))).push([a.timeStamp,t])})}function l(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function o(a){var w;const t=(w=e[a])==null?void 0:w.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const d=t[0],f=[],S=[];for(const n of t){if(d[0]-n[0]>at)break;f.push({t:n[0],d:n[1].clientX}),S.push({t:n[0],d:n[1].clientY})}return{x:oe(f),y:oe(S),get direction(){const{x:n,y:v}=this,[s,u]=[Math.abs(n),Math.abs(v)];return s>u&&n>=0?"right":s>u&&n<=0?"left":u>s&&v>=0?"down":u>s&&v<=0?"up":ot()}}}return{addMovement:c,endTouch:l,getVelocity:o}}function ot(){throw new Error}function it(e){let{isActive:c,isTemporary:l,width:o,touchless:a,position:t}=e;q(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),Z(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",B)});const d=m(()=>["left","right"].includes(t.value)),{addMovement:f,endTouch:S,getVelocity:w}=nt();let n=!1;const v=V(!1),s=V(0),u=V(0);let g;function k(r,b){return(t.value==="left"?r:t.value==="right"?document.documentElement.clientWidth-r:t.value==="top"?r:t.value==="bottom"?document.documentElement.clientHeight-r:I())-(b?o.value:0)}function C(r){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const h=t.value==="left"?(r-u.value)/o.value:t.value==="right"?(document.documentElement.clientWidth-r-u.value)/o.value:t.value==="top"?(r-u.value)/o.value:t.value==="bottom"?(document.documentElement.clientHeight-r-u.value)/o.value:I();return b?Math.max(0,Math.min(1,h)):h}function y(r){if(a.value)return;const b=r.changedTouches[0].clientX,h=r.changedTouches[0].clientY,x=25,M=t.value==="left"?b<x:t.value==="right"?b>document.documentElement.clientWidth-x:t.value==="top"?h<x:t.value==="bottom"?h>document.documentElement.clientHeight-x:I(),H=c.value&&(t.value==="left"?b<o.value:t.value==="right"?b>document.documentElement.clientWidth-o.value:t.value==="top"?h<o.value:t.value==="bottom"?h>document.documentElement.clientHeight-o.value:I());(M||H||c.value&&l.value)&&(n=!0,g=[b,h],u.value=k(d.value?b:h,c.value),s.value=C(d.value?b:h),S(r),f(r))}function T(r){const b=r.changedTouches[0].clientX,h=r.changedTouches[0].clientY;if(n){if(!r.cancelable){n=!1;return}const M=Math.abs(b-g[0]),H=Math.abs(h-g[1]);(d.value?M>H&&M>3:H>M&&H>3)?(v.value=!0,n=!1):(d.value?H:M)>3&&(n=!1)}if(!v.value)return;r.preventDefault(),f(r);const x=C(d.value?b:h,!1);s.value=Math.max(0,Math.min(1,x)),x>1?u.value=k(d.value?b:h,!0):x<0&&(u.value=k(d.value?b:h,!1))}function B(r){if(n=!1,!v.value)return;f(r),v.value=!1;const b=w(r.changedTouches[0].identifier),h=Math.abs(b.x),x=Math.abs(b.y);(d.value?h>x&&h>400:x>h&&x>3)?c.value=b.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||I()):c.value=s.value>.5}const E=m(()=>v.value?{transform:t.value==="left"?`translateX(calc(-100% + ${s.value*o.value}px))`:t.value==="right"?`translateX(calc(100% - ${s.value*o.value}px))`:t.value==="top"?`translateY(calc(-100% + ${s.value*o.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${s.value*o.value}px))`:I(),transition:"none"}:void 0);return{isDragging:v,dragProgress:s,dragStyles:E}}function I(){throw new Error}const ut=["start","end","left","right","top","bottom"],rt=L({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ut.includes(e)},sticky:Boolean,...ge(),...X(),...he(),...ce(),...fe(),...j({tag:"nav"}),...ie()},"VNavigationDrawer"),st=Y()({name:"VNavigationDrawer",props:rt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,c){let{attrs:l,emit:o,slots:a}=c;const{isRtl:t}=re(),{themeClasses:d}=ue(e),{borderClasses:f}=ye(e),{backgroundColorClasses:S,backgroundColorStyles:w}=F(R(e,"color")),{elevationClasses:n}=be(e),{mobile:v}=pe(),{roundedClasses:s}=we(e),u=Ae(),g=ve(e,"modelValue",null,_=>!!_),{ssrBootStyles:k}=Se(),{scopeId:C}=ze(),y=U(),T=V(!1),B=m(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),E=m(()=>Oe(e.location,t.value)),r=m(()=>!e.permanent&&(v.value||e.temporary)),b=m(()=>e.sticky&&!r.value&&E.value!=="bottom");D(()=>e.expandOnHover&&e.rail!=null,()=>{p(T,_=>o("update:rail",!_))}),D(()=>!e.disableResizeWatcher,()=>{p(r,_=>!e.permanent&&Ne(()=>g.value=!_))}),D(()=>!e.disableRouteWatcher&&!!u,()=>{p(u.currentRoute,()=>r.value&&(g.value=!1))}),p(()=>e.permanent,_=>{_&&(g.value=!0)}),He(()=>{e.modelValue!=null||r.value||(g.value=e.permanent||!v.value)});const{isDragging:h,dragProgress:x,dragStyles:M}=it({isActive:g,isTemporary:r,width:B,touchless:R(e,"touchless"),position:E}),H=m(()=>{const _=r.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return h.value?_*x.value:_}),{layoutItemStyles:A,layoutItemScrimStyles:xe}=de({id:e.name,order:m(()=>parseInt(e.order,10)),position:E,layoutSize:H,elementSize:B,active:m(()=>g.value||h.value),disableTransitions:m(()=>h.value),absolute:m(()=>e.absolute||b.value&&typeof G.value!="string")}),{isStuck:G,stickyStyles:Ve}=tt({rootEl:y,isSticky:b,layoutItemStyles:A}),K=F(m(()=>typeof e.scrim=="string"?e.scrim:null)),ke=m(()=>({...h.value?{opacity:x.value*.2,transition:"none"}:void 0,...xe.value}));se({VList:{bgColor:"transparent"}});function Be(){T.value=!0}function Ee(){T.value=!1}return $(()=>{const _=a.image||e.image;return i(me,null,[i(e.tag,z({ref:y,onMouseenter:Be,onMouseleave:Ee,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":r.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":b.value},d.value,S.value,f.value,n.value,s.value,e.class],style:[w.value,A.value,M.value,k.value,Ve.value,e.style]},C,l),{default:()=>{var J,Q,ee,te;return[_&&i("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(J=a.image)==null?void 0:J.call(a,{image:e.image}):i("img",{src:e.image,alt:""},null)]),a.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[(Q=a.prepend)==null?void 0:Q.call(a)]),i("div",{class:"v-navigation-drawer__content"},[(ee=a.default)==null?void 0:ee.call(a)]),a.append&&i("div",{class:"v-navigation-drawer__append"},[(te=a.append)==null?void 0:te.call(a)])]}}),i(Ie,{name:"fade-transition"},{default:()=>[r.value&&(h.value||g.value)&&!!e.scrim&&i("div",z({class:["v-navigation-drawer__scrim",K.backgroundColorClasses.value],style:[ke.value,K.backgroundColorStyles.value],onClick:()=>g.value=!1},C),null)]})])}),{isStuck:G}}});function ct(e,c,l,o,a,t){const d=Re("router-view");return ae(),Le(me,null,[i(et,{elevation:2,title:"Agriculture Knowledge Base System",rounded:""},{append:O(()=>[i(Ue,{icon:"mdi-logout",onClick:t.logout,title:"Logout"},null,8,["onClick"])]),_:1}),i(st,null,{default:O(()=>{var f;return[i(N,{title:(f=t.user)==null?void 0:f.fullName,"prepend-icon":"mdi-account",subtitle:"Online"},null,8,["title"]),i(Fe),i(N,{link:"",title:"Dashboard",to:"/"}),i(N,{link:"",title:"Articles",to:"/article"}),t.user.role==="admin"?(ae(),De(N,{key:0,link:"",title:"User",to:"/user"})):Ye("",!0),i(N,{link:"",title:"Settings"})]}),_:1}),i(Xe,null,{default:O(()=>[i(d)]),_:1})],64)}const St=Pe(qe,[["render",ct]]);export{St as default};
